<!DOCTYPE html>
<html>
    <head>
        <title>Werw√∂lfle</title>


        <style>

            * {
                background-color: black;
                color: white;
            }
            h1 {text-align: center;}
            input{margin:auto;display:block;}
            button{margin:auto;display:block;}
            

        </style>
    </head>
    <body>
        <h1>Welcome to Millers Hollow</h1>
        <input id="addname" placeholder="Name" type="text">
        <br>
        <button>Add</button>
        <table id="playerlist">
            <tr class="tablehead">
                <th>Name</th>
                <th>Role</th>
                <th>Lovers</th>
                <th>Captain</th>
                <th>Dead</th>
            </tr>
        </table>
        <script>
            const addButton = document.querySelector("button")
            addButton.addEventListener("click",addPlayer)
            const playerlist = document.querySelector("#playerlist")
            const addnameinput = document.querySelector("#addname")
            

            players = [ ]

            function addPlayer() {
                players.push({
                    name: addnameinput.value,
                    role: "villager",
                    isInLove: false,
                    isCaptain: false,
                    isDead: false,
                })
                addnameinput.value = "";
                render()

            }

            function render() {
                document.querySelectorAll("#playerlist tr:not(.tablehead)").forEach(elem => {elem.remove()})
                players.forEach(player => {
                    tr=document.createElement("tr")
                    playerlist.appendChild(tr)

                    td1=document.createElement("td")
                    td1.textContent = player.name;
                    tr.appendChild(td1)

                    td2=document.createElement("td")
                    td2.innerHTML='<select name="role" class"role">'+
                                    '<option value="vilager">Villager</option>'+
                                    '<option value="werewolf">Werewolf</option>'+
                                    '<option value="witch">Witch</option>'+
                                    '<option value="fortune_teller">Fortune Teller</option>'+
                                    '<option value="thief">Thief</option>'+
                                    '<option value="cupid">Cupid</option>'+
                                    '<option value="hunter">Hunter</option>'+
                                    '<option value="little_girl">Little Girl</option>'+
                                  '</select>';
                    tr.appendChild(td2)

                    td3=document.createElement("td")
                    td3.innerHTML='<input type="checkbox"><br>';
                    tr.appendChild(td3)

                    td5=document.createElement("td")
                    td5.innerHTML='<input type="checkbox"><br>';
                    tr.appendChild(td5)

                    td4=document.createElement("td")
                    td4.innerHTML='<input type="checkbox" onclick="checkFluency()" id="fluency" checked><br>';
                    tr.appendChild(td4)
                
                    
                });
            }
            function checkFluency()
            {
                var checkbox = document.getElementById('fluency');
                if (checkbox.checked != true)
             {
                alert("you need to be fluent in English to apply for the job");
             }
            }

        </script>

    </body>
</html>